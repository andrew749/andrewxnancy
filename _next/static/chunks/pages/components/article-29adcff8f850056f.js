(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[951],{3211:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/components/article",function(){return t(2541)}])},2541:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return _}});var r=t(5893),i=t(7294),a=t(6518),s=t(7203),c=t(1354),o=t(8269),u=t.n(o),l=t(5743),d=t.n(l),f=t(1354),p={salt:"2022",keySize:4,keyIterations:2e3,iv:"0000000000000000"};function v(e,n){if(0==e.index&&e)return{index:0,answer:d().stringify(u().parse(e.answer))};var t=e,r=function(e,n){var t=u().stringify(d().parse(p.salt)),r=d().parse(p.iv),i=(0,c.PBKDF2)(n,t,{keySize:p.keySize,iterations:p.keyIterations,hasher:f.algo.SHA256}),a=f.lib.CipherParams.create({ciphertext:e,key:i,iv:r,salt:t,algorithm:f.algo.AES,mode:f.mode.CBC,padding:f.pad.PKCS7,blockSize:4});return c.AES.decrypt(a,i,{keySize:p.keySize,iv:r})}(u().parse(t.encoded),n),i=d().stringify(u().parse(d().stringify(r)));return JSON.parse(i)}var y=t(4164),h=t(7453),m=t.n(h);function _(e){var n=e.articleName,t=(0,i.useState)(),c=t[0],o=t[1],l=(0,i.useState)(),f=l[0],p=l[1],h=(0,i.useState)(!1),_=h[0],g=h[1],x=(0,i.useState)([]),S=x[0],w=x[1];(0,i.useEffect)((function(){(function(e){return fetch("/letters/".concat(e)).then((function(e){return e.text()})).then((function(e){return u().parse(e)})).then((function(e){return d().stringify(e)})).then((function(e){return JSON.parse(e)})).then((function(e){return e}))})(n).then((function(e){w([e])}))}),[]),(0,i.useEffect)((function(){var e,n;S.length>0&&S.at(-1)&&(null===(e=S.at(-1))||void 0===e?void 0:e.answer)&&(o(d().stringify(u().parse(null===(n=S.at(-1))||void 0===n?void 0:n.answer))),g(!0),setTimeout((function(){g(!1)}),3e3))}),[S]);return(0,r.jsxs)("div",{children:[(0,r.jsx)(a.Z,{in:_,children:(0,r.jsx)("div",{children:(0,r.jsx)(s.Z,{variant:"success",children:"Succesfully Decrypted!"},"decryption-successful")})}),null==c&&(0,r.jsx)(y.default,{encryptedFrames:S,passwordInputHandler:function(e){var n;e.preventDefault();var t=new FormData(e.target),r=S.length-1,i=null===(n=t.get(r.toString()))||void 0===n?void 0:n.toLowerCase();try{var a=v(S[r],i);a&&(w(S.concat(a)),p(null))}catch(s){console.error(s),p(s)}}}),(0,r.jsx)("pre",{className:m().letterContainer,children:c}),f&&(0,r.jsx)(s.Z,{variant:"danger",children:"Incorrect!"},"error")]})}},7476:function(e,n,t){"use strict";t.r(n);var r=t(5893),i=t(1676),a=t(7294).forwardRef((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{index:0,encryptedFrames:[],enabled:!0},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.encryptedFrames&&e.encryptedFrames.length&&(0,r.jsxs)(i.Z.Group,{className:"mb-3",controlId:"formBasicAnswer",children:[(0,r.jsx)(i.Z.Label,{children:e.encryptedFrames[e.index].question}),(0,r.jsx)(i.Z.Control,{name:"".concat(e.index),disabled:!e.enabled,ref:n,type:"answer",placeholder:"Answer"})]})}));n.default=a},4164:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return u}});var r=t(5893),i=t(7294),a=t(1676),s=t(5005),c=t(7476);function o(e){return e.encoded}function u(e){var n=e.encryptedFrames,t=void 0===n?[]:n,u=e.passwordInputHandler,l=void 0===u?function(){}:u,d=t.map((function(){return i.createRef()}));return(0,i.useEffect)((function(){var e,n;null===(e=d.at(t.length-1))||void 0===e||null===(n=e.current)||void 0===n||n.focus()}),[t]),(0,r.jsx)("div",{children:(0,r.jsxs)(a.Z,{onSubmit:l,children:[t.filter(o).map((function(e,n,t){return(0,r.jsx)(c.default,{enabled:e.index==t.at(-1).index,ref:d.at(n),index:n,encryptedFrames:t},n)})),(0,r.jsx)(s.Z,{variant:"primary",type:"submit",children:"Submit"})]})})}},7453:function(e){e.exports={container:"styles_container__PirOn",mainTitle:"styles_mainTitle__KXg2O",mainBody:"styles_mainBody__ZopAC",imageBackground:"styles_imageBackground__bx1Yc",slide:"styles_slide__igR0i",letterContainer:"styles_letterContainer__5JB_I"}},2480:function(){}},function(e){e.O(0,[774,676,567,888,179],(function(){return n=3211,e(e.s=n);var n}));var n=e.O();_N_E=n}]);