(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(n,e,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return i(5075)}])},5075:function(n,e,i){"use strict";i.r(e),i.d(e,{__N_SSG:function(){return B},default:function(){return E}});var r=i(1438),t=i(5893),a=i(1354),o=i(8269),s=i.n(o),c=i(5743),d=i.n(c),f=i(7294),u=i(9008),g=i.n(u),l=i(7453),p=i.n(l),C=i(5005),h=i(682),m=i(4051),y=i(1676),v=i(7203),x=i(6518),_=i(3586),L=(i(8210),i(1354));function P(){return(0,t.jsxs)("div",{children:[(0,t.jsx)(g(),{children:(0,t.jsx)("title",{children:"Andrew \u2764\ufe0f Nancy"})}),(0,t.jsx)("h1",{className:p().mainTitle,children:"Andrew \u2764\ufe0f Nancy \ud83e\udd17"})]})}var j={salt:"2022",keySize:4,keyIterations:2e3,iv:"0000000000000000"};function w(n,e){if(0==n.index&&n)return{index:0,answer:d().stringify(s().parse(n.answer))};var i=n,r=function(n,e){var i=s().stringify(d().parse(j.salt)),r=d().parse(j.iv),t=(0,a.PBKDF2)(e,i,{keySize:j.keySize,iterations:j.keyIterations,hasher:L.algo.SHA256}),o=L.lib.CipherParams.create({ciphertext:n,key:t,iv:r,salt:i,algorithm:L.algo.AES,mode:L.mode.CBC,padding:L.pad.PKCS7,blockSize:4});return a.AES.decrypt(o,t,{keySize:j.keySize,iv:r})}(s().parse(i.encoded),e),t=d().stringify(s().parse(d().stringify(r)));return JSON.parse(t)}function S(n){var e=n.articleName,i=(0,f.useState)(),r=i[0],a=i[1],o=(0,f.useState)(),c=o[0],u=o[1],g=(0,f.useState)(!1),l=g[0],C=g[1],h=(0,f.useState)([]),m=h[0],y=h[1];(0,f.useEffect)((function(){(function(n){return fetch("/letters/".concat(n)).then((function(n){return n.text()})).then((function(n){return s().parse(n)})).then((function(n){return d().stringify(n)})).then((function(n){return JSON.parse(n)})).then((function(n){return n}))})(e).then((function(n){y([n])}))}),[]),(0,f.useEffect)((function(){var n,e;m.length>0&&m.at(-1)&&(null===(n=m.at(-1))||void 0===n?void 0:n.answer)&&(a(d().stringify(s().parse(null===(e=m.at(-1))||void 0===e?void 0:e.answer))),C(!0),setTimeout((function(){C(!1)}),3e3))}),[m]);return(0,t.jsxs)("div",{children:[(0,t.jsx)(x.Z,{in:l,children:(0,t.jsx)("div",{children:(0,t.jsx)(v.Z,{variant:"success",children:"Succesfully Decrypted!"},"decryption-successful")})}),null==r&&(0,t.jsx)(N,{encryptedFrames:m,passwordInputHandler:function(n){var e;n.preventDefault();var i=new FormData(n.target),r=m.length-1,t=null===(e=i.get(r.toString()))||void 0===e?void 0:e.toLowerCase();try{var a=w(m[r],t);a&&(y(m.concat(a)),u(null))}catch(o){console.error(o),u(o)}}}),(0,t.jsx)("pre",{className:p().letterContainer,children:r}),c&&(0,t.jsx)(v.Z,{variant:"danger",children:"Incorrect!"},"error")]})}function N(n){var e=n.encryptedFrames,i=n.passwordInputHandler;return(0,t.jsx)("div",{children:(0,t.jsxs)(y.Z,{onSubmit:i,children:[e.map((function(n,i,r){return(0,t.jsx)(k,{index:i,encryptedFrames:e},i)})),(0,t.jsx)(C.Z,{variant:"primary",type:"submit",children:"Submit"})]})})}function k(n){var e=n.index,i=n.encryptedFrames;return(0,t.jsxs)(y.Z.Group,{className:"mb-3",controlId:"formBasicAnswer",children:[(0,t.jsx)(y.Z.Label,{children:i[e].question}),(0,t.jsx)(y.Z.Control,{name:e,type:"answer",placeholder:"Answer"})]})}var Z=function n(e,i){(0,r.Z)(this,n),this.width=e,this.height=i};Z.ConfigLandscape=new Z(4,3),Z.ConfigPortrait=new Z(3,4);var b={0:Z.ConfigLandscape,1:Z.ConfigLandscape,2:Z.ConfigLandscape,3:Z.ConfigLandscape,4:Z.ConfigLandscape,5:Z.ConfigLandscape,6:Z.ConfigLandscape,7:Z.ConfigLandscape,8:Z.ConfigPortrait,9:Z.ConfigLandscape,10:Z.ConfigLandscape,11:Z.ConfigLandscape,12:Z.ConfigLandscape,13:Z.ConfigLandscape,14:Z.ConfigLandscape,15:Z.ConfigPortrait,16:Z.ConfigLandscape,17:Z.ConfigLandscape,18:Z.ConfigLandscape,19:Z.ConfigLandscape,20:Z.ConfigPortrait,21:Z.ConfigPortrait,22:Z.ConfigPortrait,23:Z.ConfigLandscape,24:Z.ConfigLandscape,25:Z.ConfigPortrait,26:Z.ConfigPortrait,27:Z.ConfigPortrait,28:Z.ConfigLandscape,29:Z.ConfigPortrait,30:Z.ConfigPortrait,31:Z.ConfigPortrait,32:Z.ConfigLandscape,33:Z.ConfigPortrait,34:Z.ConfigPortrait,35:Z.ConfigPortrait,36:Z.ConfigLandscape,37:Z.ConfigPortrait,38:Z.ConfigPortrait,39:Z.ConfigPortrait,40:Z.ConfigPortrait,41:Z.ConfigLandscape,42:Z.ConfigLandscape,43:Z.ConfigLandscape,44:Z.ConfigLandscape,45:Z.ConfigPortrait,46:Z.ConfigLandscape,47:Z.ConfigPortrait,48:Z.ConfigPortrait,49:Z.ConfigLandscape,50:Z.ConfigLandscape,51:Z.ConfigLandscape},A=Array.from(new Array(52),(function(n,e){return{src:"/images/img".concat(e,".jpeg"),height:b[e].height,width:b[e].width}})),B=!0;function E(){return(0,t.jsxs)("div",{className:p().container,children:[(0,t.jsx)("div",{className:p().imageBackground,children:(0,t.jsx)(_.Z,{photos:A,direction:"column"})}),(0,t.jsxs)(h.Z,{className:p().mainBody,children:[(0,t.jsx)(m.Z,{children:(0,t.jsx)(P,{})}),(0,t.jsx)(m.Z,{children:(0,t.jsx)(S,{articleName:"christmas_2022"})}),(0,t.jsx)("audio",{src:"audio/background.mp3",autoPlay:!0,muted:!0,controls:!0})]})]})}},7453:function(n){n.exports={container:"styles_container__PirOn",mainTitle:"styles_mainTitle__KXg2O",mainBody:"styles_mainBody__ZopAC",imageBackground:"styles_imageBackground__bx1Yc",slide:"styles_slide__igR0i",letterContainer:"styles_letterContainer__5JB_I"}},2480:function(){}},function(n){n.O(0,[774,523,138,888,179],(function(){return e=8312,n(n.s=e);var e}));var e=n.O();_N_E=e}]);