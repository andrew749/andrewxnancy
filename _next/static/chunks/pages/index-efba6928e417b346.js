(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5728:function(n,e,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return i(1878)}])},1878:function(n,e,i){"use strict";i.r(e),i.d(e,{__N_SSG:function(){return E},default:function(){return I}});var r=i(1438),t=i(4924),a=i(5893),s=i(1354),o=i(8269),c=i.n(o),d=i(5743),f=i.n(d),u=i(7294),g=i(9008),l=i.n(g),p=i(7453),C=i.n(p),h=i(5005),m=i(682),y=i(4051),x=i(1676),_=i(7203),L=i(6518),P=i(3586),j=(i(8210),i(1354));function v(){return(0,a.jsxs)("div",{children:[(0,a.jsx)(l(),{children:(0,a.jsx)("title",{children:"Andrew \u2764\ufe0f Nancy"})}),(0,a.jsx)("h1",{className:C().mainTitle,children:"Andrew \u2764\ufe0f Nancy \ud83e\udd17"})]})}var w={salt:"2022",keySize:4,keyIterations:2e3,iv:"0000000000000000"};function S(n,e){if(0==n.index)return{index:0,answer:f().stringify(c().parse(n.answer))};var i=function(n,e){var i=c().stringify(f().parse(w.salt)),r=f().parse(w.iv),t=(0,s.PBKDF2)(e,i,{keySize:w.keySize,iterations:w.keyIterations,hasher:j.algo.SHA256}),a=j.lib.CipherParams.create({ciphertext:n,key:t,iv:r,salt:i,algorithm:j.algo.AES,mode:j.mode.CBC,padding:j.pad.PKCS7,blockSize:4});return s.AES.decrypt(a,t,{keySize:w.keySize,iv:r})}(c().parse(n.encoded),e),r=f().stringify(c().parse(f().stringify(i)));return JSON.parse(r)}function N(n){var e=n.articleName,i=(0,u.useState)(),r=i[0],t=i[1],s=(0,u.useState)(),o=s[0],d=s[1],g=(0,u.useState)(!1),l=g[0],p=g[1],h=(0,u.useState)([]),m=h[0],y=h[1];(0,u.useEffect)((function(){(function(n){return fetch("/letters/".concat(n)).then((function(n){return n.text()})).then((function(n){return c().parse(n)})).then((function(n){return f().stringify(n)})).then((function(n){return JSON.parse(n)}))})(e).then((function(n){y([n])}))}),[]),(0,u.useEffect)((function(){m.length>0&&m.at(-1).answer&&(t(f().stringify(c().parse(m.at(-1).answer))),p(!0),setTimeout((function(){p(!1)}),3e3))}),[m]);return(0,a.jsxs)("div",{children:[(0,a.jsx)(L.Z,{in:l,children:(0,a.jsx)("div",{children:(0,a.jsx)(_.Z,{variant:"success",children:"Succesfully Decrypted!"},"decryption-successful")})}),null==r&&(0,a.jsx)(k,{encryptedFrames:m,passwordInputHandler:function(n){n.preventDefault();var e=new FormData(n.target),i=m.length-1,r=e.get(i).toLowerCase();try{var t=S(m[i],r);t&&(y(m.concat(t)),d(null))}catch(a){console.error(a),d(a)}}}),(0,a.jsx)("pre",{className:C().letterContainer,children:r}),o&&(0,a.jsx)(_.Z,{variant:"danger",children:"Incorrect!"},"error")]})}function k(n){var e=n.encryptedFrames,i=n.passwordInputHandler;return(0,a.jsx)("div",{children:(0,a.jsxs)(x.Z,{onSubmit:i,children:[e.map((function(n,i,r){return(0,a.jsx)(Z,{index:i,encryptedFrames:e},i)})),(0,a.jsx)(h.Z,{variant:"primary",type:"submit",children:"Submit"})]})})}function Z(n){var e=n.index,i=n.encryptedFrames;return(0,a.jsxs)(x.Z.Group,{className:"mb-3",controlId:"formBasicAnswer",children:[(0,a.jsx)(x.Z.Label,{children:i[e].question}),(0,a.jsx)(x.Z.Control,{name:e,type:"answer",placeholder:"Answer"})]})}var b=function n(e,i){(0,r.Z)(this,n),this.width=e,this.height=i};(0,t.Z)(b,"ConfigLandscape",new b(4,3)),(0,t.Z)(b,"ConfigPortrait",new b(3,4));var A={0:b.ConfigLandscape,1:b.ConfigLandscape,2:b.ConfigLandscape,3:b.ConfigLandscape,4:b.ConfigLandscape,5:b.ConfigLandscape,6:b.ConfigLandscape,7:b.ConfigLandscape,8:b.ConfigPortrait,9:b.ConfigLandscape,10:b.ConfigLandscape,11:b.ConfigLandscape,12:b.ConfigLandscape,13:b.ConfigLandscape,14:b.ConfigLandscape,15:b.ConfigPortrait,16:b.ConfigLandscape,17:b.ConfigLandscape,18:b.ConfigLandscape,19:b.ConfigLandscape,20:b.ConfigPortrait,21:b.ConfigPortrait,22:b.ConfigPortrait,23:b.ConfigLandscape,24:b.ConfigLandscape,25:b.ConfigPortrait,26:b.ConfigPortrait,27:b.ConfigPortrait,28:b.ConfigLandscape,29:b.ConfigPortrait,30:b.ConfigPortrait,31:b.ConfigPortrait,32:b.ConfigLandscape,33:b.ConfigPortrait,34:b.ConfigPortrait,35:b.ConfigPortrait,36:b.ConfigLandscape,37:b.ConfigPortrait,38:b.ConfigPortrait,39:b.ConfigPortrait,40:b.ConfigPortrait,41:b.ConfigLandscape,42:b.ConfigLandscape,43:b.ConfigLandscape,44:b.ConfigLandscape,45:b.ConfigPortrait,46:b.ConfigLandscape,47:b.ConfigPortrait,48:b.ConfigPortrait,49:b.ConfigLandscape,50:b.ConfigLandscape,51:b.ConfigLandscape},B=Array.from(new Array(52),(function(n,e){return{src:"/images/img".concat(e,".jpeg"),height:A[e].height,width:A[e].width}})),E=!0;function I(){return(0,a.jsxs)("div",{className:C().container,children:[(0,a.jsx)("div",{className:C().imageBackground,children:(0,a.jsx)(P.Z,{photos:B,direction:"column"})}),(0,a.jsxs)(m.Z,{className:C().mainBody,children:[(0,a.jsx)(y.Z,{children:(0,a.jsx)(v,{})}),(0,a.jsx)(y.Z,{children:(0,a.jsx)(N,{articleName:"christmas_2022"})}),(0,a.jsx)("audio",{src:"audio/background.mp3",autoPlay:!0,muted:!0,controls:!0})]})]})}},7453:function(n){n.exports={container:"styles_container__PirOn",mainTitle:"styles_mainTitle__KXg2O",mainBody:"styles_mainBody__ZopAC",imageBackground:"styles_imageBackground__bx1Yc",slide:"styles_slide__igR0i",letterContainer:"styles_letterContainer__5JB_I"}},2480:function(){}},function(n){n.O(0,[774,523,687,888,179],(function(){return e=5728,n(n.s=e);var e}));var e=n.O();_N_E=e}]);